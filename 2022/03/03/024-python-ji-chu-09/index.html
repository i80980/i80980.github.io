<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 5.4.2">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  <title>Day09之Python面向对象高级与Python的异常、模块以及包管理 - 华佐博客</title>

  
    <meta name="description" content="一、Python中的继承1、什么是继承我们接下来来聊聊Python代码中的“继承”：类是用来描述现实世界中同一组事务的共有特性的抽象模型，但是类也有上下级和范围之分，比如：生物 &#x3D;&gt; 动物 &#x3D;&gt; 哺乳动物 &#x3D;&gt; 灵长型动物 &#x3D;&gt; 人类 &#x3D;&gt; 黄种人 从哲学上说，就是共性与个性之间的关系，比如：白马和马！所以，我们在OOP代码中，也一样要体现出类与类之间的共性与个性关系">
<meta property="og:type" content="article">
<meta property="og:title" content="Day09之Python面向对象高级与Python的异常、模块以及包管理">
<meta property="og:url" content="https://i80980.github.io/2022/03/03/024-python-ji-chu-09/index.html">
<meta property="og:site_name" content="华佐博客">
<meta property="og:description" content="一、Python中的继承1、什么是继承我们接下来来聊聊Python代码中的“继承”：类是用来描述现实世界中同一组事务的共有特性的抽象模型，但是类也有上下级和范围之分，比如：生物 &#x3D;&gt; 动物 &#x3D;&gt; 哺乳动物 &#x3D;&gt; 灵长型动物 &#x3D;&gt; 人类 &#x3D;&gt; 黄种人 从哲学上说，就是共性与个性之间的关系，比如：白马和马！所以，我们在OOP代码中，也一样要体现出类与类之间的共性与个性关系">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110462.png">
<meta property="og:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110920.png">
<meta property="og:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110333.png">
<meta property="og:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110902.png">
<meta property="og:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110197.png">
<meta property="og:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110141.png">
<meta property="article:published_time" content="2022-03-03T00:00:00.000Z">
<meta property="article:modified_time" content="2022-04-01T13:10:53.911Z">
<meta property="article:author" content="华佐">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110462.png">
<meta name="twitter:creator" content="@i80980# for open_graph meta">
  
  

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="华佐博客" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  
<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiperstyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end -->
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body>
  


  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    


<header class="header">

<div class="logo-wrap"><a class="title" href="/"><div class="main"><img no-lazy height="32px" src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012153156.jpeg"/ onerror="javascript:this.classList.add('error');this.src='https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/image/2659360.svg';"></div><div class="sub cap">一往无前</div></a></div>
<nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/time/">时间轴</a><a class="nav-item" href="/contact/">留言板</a><a class="nav-item" href="/about/">关于</a></nav></header>

<div class="widgets">

<div class="widget-wrap single" id="toc"><div class="widget-header cap dis-select"><span class="name">本文目录</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%A7%E6%89%BF"><span class="toc-number">1.</span> <span class="toc-text">1、什么是继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E7%BB%A7%E6%89%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">2、继承的基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%B8%8E%E7%BB%A7%E6%89%BF%E7%9B%B8%E5%85%B3%E7%9A%84%E5%87%A0%E4%B8%AA%E6%A6%82%E5%BF%B5"><span class="toc-number">3.</span> <span class="toc-text">3、与继承相关的几个概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%8D%95%E7%BB%A7%E6%89%BF"><span class="toc-number">4.</span> <span class="toc-text">4、单继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E5%8D%95%E7%BB%A7%E6%89%BF%E7%89%B9%E6%80%A7%EF%BC%9A%E4%BC%A0%E9%80%92%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">5、单继承特性：传递性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E7%BC%96%E5%86%99%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">6、编写面向对象代码中的常见问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E5%A4%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">7.</span> <span class="toc-text">7、多继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81%E5%AD%90%E7%B1%BB%E6%89%A9%E5%B1%95%EF%BC%9A%E9%87%8D%E5%86%99%E7%88%B6%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">8.</span> <span class="toc-text">8、子类扩展：重写父类属性和方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81super-%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">9.</span> <span class="toc-text">9、super()调用父类属性和方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E3%80%81MRO%E5%B1%9E%E6%80%A7%E6%88%96MRO%E6%96%B9%E6%B3%95%EF%BC%9A%E6%96%B9%E6%B3%95%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F"><span class="toc-number">10.</span> <span class="toc-text">10、MRO属性或MRO方法：方法解析顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%9A%E6%80%81"><span class="toc-number">11.</span> <span class="toc-text">1、什么是多态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%A4%9A%E6%80%81%E5%8E%9F%E7%90%86%E5%9B%BE"><span class="toc-number">12.</span> <span class="toc-text">2、多态原理图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%A4%9A%E6%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">13.</span> <span class="toc-text">3、多态代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">14.</span> <span class="toc-text">1、类属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E7%B1%BB%E5%B1%9E%E6%80%A7%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">15.</span> <span class="toc-text">2、类属性代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-number">16.</span> <span class="toc-text">3、类方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">17.</span> <span class="toc-text">4、静态方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">18.</span> <span class="toc-text">1、需求分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%AE%9E%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="toc-number">19.</span> <span class="toc-text">2、实例代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">20.</span> <span class="toc-text">1、什么是设计模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">21.</span> <span class="toc-text">2、单例模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81-new-%E6%96%B9%E6%B3%95"><span class="toc-number">22.</span> <span class="toc-text">3、_new_()方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">23.</span> <span class="toc-text">4、单例模式的代码实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%82%E5%B8%B8"><span class="toc-number">24.</span> <span class="toc-text">1、什么是异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%BC%82%E5%B8%B8%E6%BC%94%E7%A4%BA"><span class="toc-number">25.</span> <span class="toc-text">2、异常演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7"><span class="toc-number">26.</span> <span class="toc-text">3、异常捕获</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E6%8D%95%E8%8E%B7%E6%8C%87%E5%AE%9A%E5%BC%82%E5%B8%B8"><span class="toc-number">27.</span> <span class="toc-text">4、捕获指定异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E5%90%8C%E6%97%B6%E6%8D%95%E8%8E%B7%E5%A4%9A%E4%B8%AA%E5%BC%82%E5%B8%B8"><span class="toc-number">28.</span> <span class="toc-text">5、同时捕获多个异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E6%8D%95%E8%8E%B7%E6%89%80%E6%9C%89%E6%9C%AA%E7%9F%A5%E5%BC%82%E5%B8%B8"><span class="toc-number">29.</span> <span class="toc-text">6、捕获所有未知异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E4%B8%ADelse%E8%AF%AD%E5%8F%A5"><span class="toc-number">30.</span> <span class="toc-text">7、异常捕获中else语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E4%B8%AD%E7%9A%84finally%E8%AF%AD%E5%8F%A5"><span class="toc-number">31.</span> <span class="toc-text">8、异常捕获中的finally语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81%E5%BC%82%E5%B8%B8%E7%9A%84%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">32.</span> <span class="toc-text">9、异常的综合案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%98%86-%E5%BC%82%E5%B8%B8%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-number">32.1.</span> <span class="toc-text">☆ 异常的传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%98%86-raise%E6%8A%9B%E5%87%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">32.2.</span> <span class="toc-text">☆ raise抛出自定义异常</span></a></li></ol></li></ol></div></div></div>


</div>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">华佐博客</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Python%E5%9F%BA%E7%A1%80/">Python基础</a></div><div id="post-meta">发布于&nbsp;<time datetime="2022-03-03T00:00:00.000Z">2022-03-03</time></div></div>

<article class='content md post'>
<h1 class="article-title"><span>Day09之Python面向对象高级与Python的异常、模块以及包管理</span></h1>
<h1 id="一、Python中的继承"><a href="#一、Python中的继承" class="headerlink" title="一、Python中的继承"></a>一、Python中的继承</h1><h2 id="1、什么是继承"><a href="#1、什么是继承" class="headerlink" title="1、什么是继承"></a>1、什么是继承</h2><p>我们接下来来聊聊Python代码中的“继承”：类是用来描述现实世界中同一组事务的共有特性的抽象模型，但是类也有上下级和范围之分，比如：生物 =&gt; 动物 =&gt; 哺乳动物 =&gt; 灵长型动物 =&gt; 人类 =&gt; 黄种人</p>
<p>从哲学上说，就是共性与个性之间的关系，比如：白马和马！所以，我们在OOP代码中，也一样要体现出类与类之间的共性与个性关系，这里就需要通过类的继承来体现。简单来说，如果一个类A使用了另一个类B的成员（属性和方法），我们就可以说A类继承了B类，同时这也体现了OOP中==代码重用的特性==！</p>
<h2 id="2、继承的基本语法"><a href="#2、继承的基本语法" class="headerlink" title="2、继承的基本语法"></a>2、继承的基本语法</h2><p>假设A类要继承B类中的所有属性和方法（私有属性和私有方法除外）</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

clss A<span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>B中的所有公共属性
a<span class="token punctuation">.</span>B中的所有公共方法
</code></pre>
<p>案例：Person类与Teacher、Student类之间的继承关系</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can eat food!'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can speak!'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

teacher <span class="token operator">=</span> Teacher<span class="token punctuation">(</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
teacher<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>

student <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
studnet<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="3、与继承相关的几个概念"><a href="#3、与继承相关的几个概念" class="headerlink" title="3、与继承相关的几个概念"></a>3、与继承相关的几个概念</h2><p>继承：一个类从另一个已有的类获得其成员的相关特性，就叫作继承！</p>
<p>派生：从一个已有的类产生一个新的类，称为派生！</p>
<p>很显然，继承和派生其实就是从不同的方向来描述的相同的概念而已，本质上是一样的！</p>
<p>父类：也叫作基类，就是指已有被继承的类！</p>
<p>子类：也叫作派生类或扩展类</p>
<p>扩展：在子类中增加一些自己特有的特性，就叫作扩展，没有扩展，继承也就没有意义了！</p>
<p>单继承：一个类只能继承自一个其他的类，不能继承多个类，单继承也是大多数面向对象语言的特性！</p>
<p>多继承：一个类同时继承了多个父类， （C++、Python等语言都支持多继承）</p>
<h2 id="4、单继承"><a href="#4、单继承" class="headerlink" title="4、单继承"></a>4、单继承</h2><p>单继承：一个类只能继承自一个其他的类，不能继承多个类。这个类会有具有父类的属性和方法。</p>
<p>基本语法：</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 1、定义一个共性类（父类）</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
<span class="token comment" spellcheck="true"># 2、定义一个个性类（子类）</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
</code></pre>
<p>案例：比如汽车可以分为两种类型（汽油车、电动车）</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 1、定义一个共性类（车类）</span>
<span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 2、定义汽油车</span>
<span class="token keyword">class</span> <span class="token class-name">GasolineCar</span><span class="token punctuation">(</span>Car<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
<span class="token comment" spellcheck="true"># 3、定义电动车</span>
<span class="token keyword">class</span> <span class="token class-name">EletricCar</span><span class="token punctuation">(</span>Car<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

bwm <span class="token operator">=</span> GasolineCar<span class="token punctuation">(</span><span class="token punctuation">)</span>
bwm<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="5、单继承特性：传递性"><a href="#5、单继承特性：传递性" class="headerlink" title="5、单继承特性：传递性"></a>5、单继承特性：传递性</h2><p>在Python继承中，如A类继承了B类，B类又继承了C类。则根据继承的传递性，则A类也会自动继承C类中所有属性和方法（公共）</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我是C类中的相关方法func'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="6、编写面向对象代码中的常见问题"><a href="#6、编写面向对象代码中的常见问题" class="headerlink" title="6、编写面向对象代码中的常见问题"></a>6、编写面向对象代码中的常见问题</h2><p>问题1：在定义类时，其没有遵循类的命名规则</p>
<p>答：在Python中，类理论上是不区分大小写的。但是要遵循一定的命名规范：首字母必须是字母或下划线，其中可以包含字母、数字和下划线，而且要求其命名方式采用大驼峰。</p>
<p>电动汽车：EletricCar</p>
<p>父类：Father</p>
<p>子类：Son</p>
<p>问题2：父类一定要继承object么？Car(object)</p>
<p>答：在Python面向对象代码中，建议在编写父类时，让其自动继承object类。但是其实不写也可以，因为默认情况下，Python中的所有类都继承自object。</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110462.png" alt="image-20210318104228654"></p>
<p>问题3：打印属性和方法时，都喜欢用print</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        
    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can speak'</span><span class="token punctuation">)</span>
        
<span class="token comment" spellcheck="true"># 创建对象，打印属性和方法</span>
p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
p<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="7、多继承"><a href="#7、多继承" class="headerlink" title="7、多继承"></a>7、多继承</h2><p>什么是多继承？</p>
<p>Python语言是少数支持多继承的一门编程语言，所谓的多继承就是允许一个类同时继承自多个类的特性。</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110920.png" alt="image-20210318105709652"></p>
<p>基本语法：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>B中的所有属性和方法
a<span class="token punctuation">.</span>C中的所有属性和方法
</code></pre>
<p>案例：汽油车、电动车 =&gt; 混合动力汽车（汽车 + 电动）</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GasolineCar</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run_with_gasoline</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run with gasoline'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">EletricCar</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">run_with_eletric</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run with eletric'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">HybridCar</span><span class="token punctuation">(</span>GasolineCar<span class="token punctuation">,</span> EletricCar<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

tesla <span class="token operator">=</span> HybridCar<span class="token punctuation">(</span><span class="token punctuation">)</span>
tesla<span class="token punctuation">.</span>run_with_gasoline<span class="token punctuation">(</span><span class="token punctuation">)</span>
tesla<span class="token punctuation">.</span>run_with_eletric<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>注意：虽然多继承允许我们同时继承自多个类，但是实际开发中，应尽量避免使用多继承，因为如果两个类中出现了相同的属性和方法就会产生命名冲突。</p>
</blockquote>
<h2 id="8、子类扩展：重写父类属性和方法"><a href="#8、子类扩展：重写父类属性和方法" class="headerlink" title="8、子类扩展：重写父类属性和方法"></a>8、子类扩展：重写父类属性和方法</h2><p>扩展特性：继承让子类继承父类的所有公共属性和方法，但是如果仅仅是为了继承公共属性和方法，继承就没有实际的意义了，应该是在继承以后，子类应该有一些自己的属性和方法。</p>
<p>什么是重写？</p>
<p>重写也叫作覆盖，就是当子类成员与父类成员名字相同的时候，从父类继承下来的成员会重新定义！</p>
<p>此时，通过子类实例化出来的对象访问相关成员的时候，真正其作用的是子类中定义的成员！</p>
<p>上面单继承例子中 Animal 的子类 Cat和Dog 继承了父类的属性和方法，但是我们狗类Dog 有自己的叫声’汪汪叫’，猫类 Cat 有自己的叫声 ‘喵喵叫’ ，这时我们需要对父类的 call() 方法进行重构。如下：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can eat'</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">call</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can call'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

wangcai <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
wangcai<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
wangcai<span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token punctuation">)</span>

miaomiao <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
miaomiao<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
miaomiao<span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Dog、Cat子类重写父类Animal中的call方法：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can eat'</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 公共方法</span>
    <span class="token keyword">def</span> <span class="token function">call</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can call'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 重写父类的call方法</span>
    <span class="token keyword">def</span> <span class="token function">call</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can wang wang wang'</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 重写父类的call方法</span>
    <span class="token keyword">def</span> <span class="token function">call</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can miao miao miao'</span><span class="token punctuation">)</span>


wangcai <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
wangcai<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
wangcai<span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token punctuation">)</span>

miaomiao <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
miaomiao<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
miaomiao<span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>思考：重写父类中的call方法以后，此时父类中的call方法还在不在？</p>
<p>答：还在，只不过是在其子类中找不到了。类方法的调用顺序，当我们在子类中重构父类的方法后，Cat子类的实例先会在自己的类 Cat 中查找该方法，当找不到该方法时才会去父类 Animal 中查找对应的方法。</p>
<h2 id="9、super-调用父类属性和方法"><a href="#9、super-调用父类属性和方法" class="headerlink" title="9、super()调用父类属性和方法"></a>9、super()调用父类属性和方法</h2><p>super()：调用父类属性或方法，完整写法：<code>super(当前类名, self).属性或方法()</code>，在Python3以后版本中，调用父类的属性和方法我们只需要使用<code>super().属性或super().方法名()</code>就可以完成调用了。</p>
<p>案例：Car汽车类、GasolineCar汽油车、ElectricCar电动车</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>brand <span class="token operator">=</span> brand
        self<span class="token punctuation">.</span>model <span class="token operator">=</span> model
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> color
     <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">GasolineCar</span><span class="token punctuation">(</span>Car<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span>
        
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run with gasoline'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">ElectricCar</span><span class="token punctuation">(</span>Car<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 电池属性</span>
        self<span class="token punctuation">.</span>battery <span class="token operator">=</span> <span class="token number">70</span>
        
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'i can run with electric，remain:{self.battery}'</span><span class="token punctuation">)</span>
        
bwm <span class="token operator">=</span> GasolineCar<span class="token punctuation">(</span><span class="token string">'宝马'</span><span class="token punctuation">,</span> <span class="token string">'X5'</span><span class="token punctuation">,</span> <span class="token string">'白色'</span><span class="token punctuation">)</span>
bwm<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>

tesla <span class="token operator">=</span> ElectricCar<span class="token punctuation">(</span><span class="token string">'特斯拉'</span><span class="token punctuation">,</span> <span class="token string">'Model S'</span><span class="token punctuation">,</span> <span class="token string">'红色'</span><span class="token punctuation">)</span>
tesla<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="10、MRO属性或MRO方法：方法解析顺序"><a href="#10、MRO属性或MRO方法：方法解析顺序" class="headerlink" title="10、MRO属性或MRO方法：方法解析顺序"></a>10、MRO属性或MRO方法：方法解析顺序</h2><p>MRO(Method Resolution Order)：方法解析顺序，我们可以通过<code>类名.__mro__</code>或<code>类名.mro()</code>获得“类的层次结构”，方法解析顺序也是按照这个“类的层次结构”寻找到。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>brand <span class="token operator">=</span> brand
        self<span class="token punctuation">.</span>model <span class="token operator">=</span> model
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> color
     <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">GasolineCar</span><span class="token punctuation">(</span>Car<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span>
        
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can run with gasoline'</span><span class="token punctuation">)</span>
        
<span class="token keyword">class</span> <span class="token class-name">ElectricCar</span><span class="token punctuation">(</span>Car<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>brand<span class="token punctuation">,</span> model<span class="token punctuation">,</span> color<span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 电池属性</span>
        self<span class="token punctuation">.</span>battery <span class="token operator">=</span> <span class="token number">70</span>
        
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'i can run with electric，remain:{self.battery}'</span><span class="token punctuation">)</span>
        
<span class="token keyword">print</span><span class="token punctuation">(</span>ElectricCar<span class="token punctuation">.</span>__mro__<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ElectricCar<span class="token punctuation">.</span>mro<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110333.png" alt="image-20210318121130667"></p>
<p>说明：有MRO方法解析顺序可知，在类的继承中，当某个类创建了一个对象时，调用属性或方法，首先在自身类中去寻找，如找到，则直接使用，停止后续的查找。如果未找到，继续向上一级继承的类中去寻找，如找到，则直接使用，没有找到则继续向上寻找…直到object类，这就是Python类继承中，其方法解析顺序。</p>
<blockquote>
<p>综上：object类还是所有类的基类（因为这个查找关系到object才终止）</p>
</blockquote>
<h1 id="二、Python中多态"><a href="#二、Python中多态" class="headerlink" title="二、Python中多态"></a>二、Python中多态</h1><h2 id="1、什么是多态"><a href="#1、什么是多态" class="headerlink" title="1、什么是多态"></a>1、什么是多态</h2><p>多态指的是一类事物有多种形态。</p>
<p>定义：多态是一种使用对象的方式，子类重写父类方法，调用不同子类对象的相同父类方法，可以产生不同的执行结果。</p>
<p>① 多态依赖继承</p>
<p>② 子类方法必须要重写父类方法</p>
<blockquote>
<p>首先定义一个父类，其可能拥有多个子类对象。当我们调用一个公共方法时，传递的对象不同，则返回的结果不同。</p>
</blockquote>
<p>好处：调用灵活，有了多态，更容易编写出通用的代码，做出通用的编程，以适应需求的不断变化！</p>
<h2 id="2、多态原理图"><a href="#2、多态原理图" class="headerlink" title="2、多态原理图"></a>2、多态原理图</h2><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110902.png" alt="image-20210318122417602"></p>
<p>公共接口service就是多态的体现，随着传入水果对象的不同，能返回不同的结果。</p>
<h2 id="3、多态代码实现"><a href="#3、多态代码实现" class="headerlink" title="3、多态代码实现"></a>3、多态代码实现</h2><p>多态：可以基于继承也可以不基于继承</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Fruit</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 公共方法</span>
    <span class="token keyword">def</span> <span class="token function">makejuice</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can make juice'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Apple</span><span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">makejuice</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can make apple juice'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Banana</span><span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">makejuice</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can make banana juice'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Orange</span><span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">makejuice</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can make orange juice'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Peach</span><span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">makejuice</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'i can make peach juice'</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 定义公共方法如service</span>
<span class="token keyword">def</span> <span class="token function">service</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
    obj<span class="token punctuation">.</span>makejuice<span class="token punctuation">(</span><span class="token punctuation">)</span>


apple <span class="token operator">=</span> Apple<span class="token punctuation">(</span><span class="token punctuation">)</span>
banana <span class="token operator">=</span> Banana<span class="token punctuation">(</span><span class="token punctuation">)</span>
orange <span class="token operator">=</span> Orange<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">(</span>apple<span class="token punctuation">,</span> banana<span class="token punctuation">,</span> orange<span class="token punctuation">)</span><span class="token punctuation">:</span>
    service<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre>
<h1 id="三、面向对象其他特性"><a href="#三、面向对象其他特性" class="headerlink" title="三、面向对象其他特性"></a>三、面向对象其他特性</h1><h2 id="1、类属性"><a href="#1、类属性" class="headerlink" title="1、类属性"></a>1、类属性</h2><p>Python中，属性可以分为实例属性和类属性。</p>
<p>类属性就是 类对象中定义的属性，它被该类的所有实例对象所共有。通常用来记录 与这类相关 的特征，类属性 不会用于记录 具体对象的特征。</p>
<blockquote>
<p>在Python中，一切皆对象。类也是一个特殊的对象，我们可以单独为类定义属性。</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义类属性</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">__init</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        
p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Harry'</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="2、类属性代码实现"><a href="#2、类属性代码实现" class="headerlink" title="2、类属性代码实现"></a>2、类属性代码实现</h2><p>定义count类属性，用于记录实例化Person类，产生对象的数量。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义类属性count</span>
    count <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment" spellcheck="true"># 定义一个__init__魔术方法，用于进行初始化操作</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token comment" spellcheck="true"># 对count类属性进行+1操作，用于记录这个Person类一共生成了多少个对象</span>
        Person<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token comment" spellcheck="true"># 1、实例化对象p1</span>
p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Harry'</span><span class="token punctuation">)</span>
p3 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Jennifer'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 2、在类外部输出类属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'我们共使用Person类生成了{Person.count}个实例对象'</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="3、类方法"><a href="#3、类方法" class="headerlink" title="3、类方法"></a>3、类方法</h2><p>为什么需要类方法，在面向对象中，特别强调数据封装性。所以不建议直接在类的外部对属性进行直接设置和获取。所以我们如果想操作类属性，建议使用类方法。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Tool</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义一个类属性count</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment" spellcheck="true"># 定义一个__init__初始化方法</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        Tool<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token comment" spellcheck="true"># 封装一个类方法：专门实现对Tool.count类属性进行操作</span>
    @classmethod
    <span class="token keyword">def</span> <span class="token function">get_count</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'我们使用Tool类共实例化了{cls.count}个工具'</span><span class="token punctuation">)</span>
        
t1 <span class="token operator">=</span> Tool<span class="token punctuation">(</span><span class="token string">'斧头'</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> Tool<span class="token punctuation">(</span><span class="token string">'榔头'</span><span class="token punctuation">)</span>
t3 <span class="token operator">=</span> Tool<span class="token punctuation">(</span><span class="token string">'铁锹'</span><span class="token punctuation">)</span>

Tool<span class="token punctuation">.</span>get_count<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>类方法主要用于操作类属性或类中的其他方法。</p>
</blockquote>
<h2 id="4、静态方法"><a href="#4、静态方法" class="headerlink" title="4、静态方法"></a>4、静态方法</h2><p>在开发时，如果需要在类中封装一个方法，这个方法：  </p>
<p>==① 既 不需要访问实例属性或者调用实例方法==</p>
<p>==② 也 不需要访问类属性或者调用类方法==</p>
<p>这个时候，可以把这个方法封装成一个静态方法</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 开发一款游戏</span>
<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 开始游戏，打印游戏功能菜单</span>
    @staticmethod
    <span class="token keyword">def</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1、开始游戏'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2、游戏暂停'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'3、退出游戏'</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 开始游戏、打印菜单</span>
Game<span class="token punctuation">.</span>menu<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="四、综合案例"><a href="#四、综合案例" class="headerlink" title="四、综合案例"></a>四、综合案例</h1><h2 id="1、需求分析"><a href="#1、需求分析" class="headerlink" title="1、需求分析"></a>1、需求分析</h2><p>设计一个<code>Game</code>类</p>
<p>属性：</p>
<p>定义一个类属性<code>top_score</code>记录游戏的历史最高分</p>
<p>定义一个实例属性<code>player_name</code>记录当前游戏的玩家姓名</p>
<p>方法：</p>
<p>静态方法<code>show_help</code>显示游戏帮助信息</p>
<p>类方法<code>show_top_score</code>显示历史最高分</p>
<p>实例方法<code>start_game</code>开始当前玩家的游戏</p>
<h2 id="2、实例代码"><a href="#2、实例代码" class="headerlink" title="2、实例代码"></a>2、实例代码</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 1、定义类属性top_score</span>
    top_score <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment" spellcheck="true"># 2、定义初始化方法__init__</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> player_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>player_name <span class="token operator">=</span> player_name

    <span class="token comment" spellcheck="true"># 3、定义静态方法，用于输出帮助信息</span>
    @staticmethod
    <span class="token keyword">def</span> <span class="token function">show_help</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'游戏帮助信息'</span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true"># 4、定义类方法</span>
    @classmethod
    <span class="token keyword">def</span> <span class="token function">show_top_score</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'本游戏历史最高分：{cls.top_score}'</span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true"># 5、定义实例方法，start_game()</span>
    <span class="token keyword">def</span> <span class="token function">start_game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'{self.player_name}，游戏开始了，你准备好了么？'</span><span class="token punctuation">)</span>


<span class="token comment" spellcheck="true"># 实例化类生成实例对象</span>
mario <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token string">'itheima'</span><span class="token punctuation">)</span>
mario<span class="token punctuation">.</span>start_game<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 显示历史最高分</span>
Game<span class="token punctuation">.</span>show_top_score<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 弹出游戏帮助信息</span>
Game<span class="token punctuation">.</span>show_help<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="五、面向对象中的单例模式"><a href="#五、面向对象中的单例模式" class="headerlink" title="五、面向对象中的单例模式"></a>五、面向对象中的单例模式</h1><h2 id="1、什么是设计模式"><a href="#1、什么是设计模式" class="headerlink" title="1、什么是设计模式"></a>1、什么是设计模式</h2><p>设计模式就是前人根据实际的问题提出的问题解决方案，我们把这种就称之为设计模式。</p>
<h2 id="2、单例模式"><a href="#2、单例模式" class="headerlink" title="2、单例模式"></a>2、单例模式</h2><p>单例模式是一种常见的设计模式！</p>
<p>所谓的设计模式，不是一种新的语法，而是人们在实际的应用中，面对某种特定的情形而设计出来的某种常见的有效的解决方案，所以，设计模式只是经验的总结！</p>
<p>什么又是单例模式？单例，就是单一实例！</p>
<p>==在实际的运用中，存在一些类，只需要实例化一个对象，就可以完成其所有的功能操作。所以，如果我们能够通过某些技巧，使得一个类只能开辟一个对象空间的话，这样就可以节省相应的对象资源，这种模式就叫作单例模式！==</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110197.png" alt="image-20210318162425553"></p>
<p>应用场景：音乐播放器对象、回收站对象、打印机对象</p>
<h2 id="3、-new-方法"><a href="#3、-new-方法" class="headerlink" title="3、_new_()方法"></a>3、_<em>new</em>_()方法</h2><p>在Python中，我们目前已经学了3个魔术方法了，分别是<code>__init__()</code>、<code>__str__()</code>、<code>__del__()</code>，接下来介绍一下<code>__new__()</code>方法。</p>
<p>使用类名()创建对象时，Python的解释器首先会调用<code>__new__方法</code>为对象分配空间。</p>
<p>__new__是一个由object积累提供的内置的静态方法，主要作用有两个：</p>
<p>○ ==在内存中为对象分配空间==</p>
<p>○ ==返回对象的引用==</p>
<p>Python解析器获得对象的引用后，将引用作为第一个参数，传递给<code>__init__方法</code>重写<code>__new__方法</code>的代码非常固定，一定要使用<code>return super(). __new__(cls)</code>，否则Python解释器得不到分配了空间的对象引用，就不会调用对象的初始化方法。</p>
<blockquote>
<p><code>__new__方法</code>是一个静态方法，在调用时，要求将自身类信息cls作为参数传递到这个方法中，这个方法属于object类中的一个静态方法。</p>
</blockquote>
<p>案例：</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义一个播放器类</span>
<span class="token keyword">class</span> <span class="token class-name">MusicPlayer</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 重写__new__()魔术方法</span>
    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1、开辟内存空间'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2、返回实例化对象引用地址'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

<span class="token comment" spellcheck="true"># 1、实例mp1对象</span>
mp1 <span class="token operator">=</span> MusicPlayer<span class="token punctuation">(</span><span class="token string">'红色的高跟鞋'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mp1<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 2、实例化mp2对象</span>
mp2 <span class="token operator">=</span> MusicPlayer<span class="token punctuation">(</span><span class="token string">'春夏秋冬'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mp2<span class="token punctuation">)</span>
</code></pre>
<h2 id="4、单例模式的代码实现"><a href="#4、单例模式的代码实现" class="headerlink" title="4、单例模式的代码实现"></a>4、单例模式的代码实现</h2><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义一个播放器类</span>
<span class="token keyword">class</span> <span class="token class-name">MusicPlayer</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义一个类属性，如instance，用于记录之前实例化对象返回的内存引用</span>
    instance <span class="token operator">=</span> None
    <span class="token comment" spellcheck="true"># 重写__new__()魔术方法</span>
    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 判断实例化时有没有分配过内存空间</span>
        <span class="token keyword">if</span> cls<span class="token punctuation">.</span>instance <span class="token keyword">is</span> None<span class="token punctuation">:</span>
            cls<span class="token punctuation">.</span>instance <span class="token operator">=</span> super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>instance

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

<span class="token comment" spellcheck="true"># 1、实例mp1对象</span>
mp1 <span class="token operator">=</span> MusicPlayer<span class="token punctuation">(</span><span class="token string">'红色的高跟鞋'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mp1<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 2、实例化mp2对象</span>
mp2 <span class="token operator">=</span> MusicPlayer<span class="token punctuation">(</span><span class="token string">'春夏秋冬'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mp2<span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>注：类属性在内存中是一个特殊的存在，其不用于以前讲过的局部变量（局部变量当函数执行完毕后，其会被内存所销毁）。但是类属性一旦定义，除非对象以及这个类在内存中被销毁了，否则其不会自动销毁。</p>
</blockquote>
<h1 id="六、Python异常"><a href="#六、Python异常" class="headerlink" title="六、Python异常"></a>六、Python异常</h1><h2 id="1、什么是异常"><a href="#1、什么是异常" class="headerlink" title="1、什么是异常"></a>1、什么是异常</h2><p>当检测到一个错误时，解释器就无法继续执行了，反而出现了一些错误的提示，这就是所谓的”异常”。</p>
<h2 id="2、异常演示"><a href="#2、异常演示" class="headerlink" title="2、异常演示"></a>2、异常演示</h2><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 运算符</span>
<span class="token comment" spellcheck="true"># print(10/0)</span>

<span class="token comment" spellcheck="true"># 文件异常</span>
f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
content <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
</code></pre>
<h2 id="3、异常捕获"><a href="#3、异常捕获" class="headerlink" title="3、异常捕获"></a>3、异常捕获</h2><p>基本语法：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    可能发生错误的代码
<span class="token keyword">except</span><span class="token punctuation">(</span>捕获<span class="token punctuation">)</span><span class="token punctuation">:</span>
    如果出现异常执行的代码
</code></pre>
<blockquote>
<p>try…except主要用于捕获代码运行时异常</p>
</blockquote>
<p>案例：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
    content <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">except</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'发生异常，执行except语句中的代码'</span><span class="token punctuation">)</span>

f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="4、捕获指定异常"><a href="#4、捕获指定异常" class="headerlink" title="4、捕获指定异常"></a>4、捕获指定异常</h2><p>在以上案例代码中，except相当于捕获了所有异常，无论遇到什么错误都会自动执行except中封装的代码。但是有些情况下，我们向针对性的捕获异常，并执行相应的代码。</p>
<p>基本语法：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    可能遇到异常的代码
<span class="token keyword">except</span> 异常类型<span class="token punctuation">:</span>
    捕获到对应的错误以后，执行的代码
</code></pre>
<blockquote>
<p>① 如果尝试执行的代码的异常类型和要捕获的异常类型不一致，则无法捕获异常。</p>
<p>② 一般try下方只放一行尝试执行的代码。</p>
</blockquote>
<p>案例：捕获FileNotFoundError异常</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> FileNotFoundError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre>
<h2 id="5、同时捕获多个异常"><a href="#5、同时捕获多个异常" class="headerlink" title="5、同时捕获多个异常"></a>5、同时捕获多个异常</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># print(10/0)</span>
<span class="token keyword">except</span> <span class="token punctuation">(</span>NameError<span class="token punctuation">,</span> ZeroDivisionError<span class="token punctuation">)</span> <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre>
<h2 id="6、捕获所有未知异常"><a href="#6、捕获所有未知异常" class="headerlink" title="6、捕获所有未知异常"></a>6、捕获所有未知异常</h2><p>无论我们在except后面定义多少个异常类型，实际应用中，也可能会出现无法捕获的未知异常。这个时候，我们考虑使用Exception异常类型捕获可能遇到的所有未知异常：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    可能遇到的错误代码
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre>
<p>案例：打印一个未定义变量，使用Exception异常类进行捕获</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre>
<h2 id="7、异常捕获中else语句"><a href="#7、异常捕获中else语句" class="headerlink" title="7、异常捕获中else语句"></a>7、异常捕获中else语句</h2><p>else语句：表示的是如果没有异常要执行的代码。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'哈哈，真开森，没有遇到任何异常'</span><span class="token punctuation">)</span>
</code></pre>
<p>案例：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    content <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="8、异常捕获中的finally语句"><a href="#8、异常捕获中的finally语句" class="headerlink" title="8、异常捕获中的finally语句"></a>8、异常捕获中的finally语句</h2><p>finally表示的是无论是否异常都要执行的代码，例如关闭文件、关闭数据库连接。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token keyword">except</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'哈哈，真开森，没有遇到任何异常'</span><span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'关闭文件'</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="9、异常的综合案例"><a href="#9、异常的综合案例" class="headerlink" title="9、异常的综合案例"></a>9、异常的综合案例</h2><h3 id="☆-异常的传递"><a href="#☆-异常的传递" class="headerlink" title="☆ 异常的传递"></a>☆ 异常的传递</h3><p>需求：</p>
<p>① 尝试只读方式打开python.txt文件，如果文件存在则读取文件内容，文件不存在则提示用户即可。</p>
<p>② 读取内容要求：尝试循环读取内容，读取过程中如果检测到用户意外终止程序，则<code>except</code>捕获</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> time

<span class="token keyword">try</span><span class="token punctuation">:</span>
   f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
   <span class="token keyword">try</span><span class="token punctuation">:</span>
       <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
           content <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
           <span class="token keyword">if</span> len<span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
               <span class="token keyword">break</span>
           time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
           <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
   <span class="token keyword">except</span><span class="token punctuation">:</span>
       <span class="token comment" spellcheck="true"># Ctrl + C（终端里面，其代表终止程序的继续执行）</span>
       <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'python.txt未全部读取完成，中断了...'</span><span class="token punctuation">)</span>
   <span class="token keyword">finally</span><span class="token punctuation">:</span>
       f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">except</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'python.txt文件未找到...'</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="☆-raise抛出自定义异常"><a href="#☆-raise抛出自定义异常" class="headerlink" title="☆ raise抛出自定义异常"></a>☆ raise抛出自定义异常</h3><p>在Python中，抛出自定义异常的语法为<code>raise 异常类对象</code>。</p>
<p>需求：密码长度不足，则报异常（用户输入密码，如果输入的长度不足6位，则报错，即抛出自定义异常，并捕获该异常）。</p>
<p>原生方法：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">input_password</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    password <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'请输入您的密码，不少于6位：'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> len<span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 抛出异常</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'您的密码长度少于6位'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token comment" spellcheck="true"># 如果密码长度正常，则直接显示密码</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        
input_password<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/i80980/tuchuang_1/main/202204012110141.png" alt="image-20210318184036155"></p>
<p>面向对象抛出自定义异常：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ShortInputError</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># length代表输入密码长度，min_length代表ShortInputError最小长度</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> length<span class="token punctuation">,</span> min_length<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>length <span class="token operator">=</span> length
        self<span class="token punctuation">.</span>min_length <span class="token operator">=</span> min_length

    <span class="token comment" spellcheck="true"># 定义一个__str__方法，用于输出字符串信息</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> f<span class="token string">'您输入的密码长度为{self.length}，不能少于{self.min_length}个字符'</span>

<span class="token keyword">try</span><span class="token punctuation">:</span>
    password <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'请输入您的密码，不少于6位：'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> len<span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ShortInputError<span class="token punctuation">(</span>len<span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'密码输入完成，您的密码是：{password}'</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="异常类型："><a href="#异常类型：" class="headerlink" title="异常类型："></a>异常类型：</h1><table>
<thead>
<tr>
<th>异常名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>BaseException</td>
<td>所有异常的基类</td>
</tr>
<tr>
<td>SystemExit</td>
<td>解释器请求退出</td>
</tr>
<tr>
<td>KeyboardInterrupt</td>
<td>用户中断执行(通常是输入^C)</td>
</tr>
<tr>
<td>Exception</td>
<td>常规错误的基类</td>
</tr>
<tr>
<td>StopIteration</td>
<td>迭代器没有更多的值</td>
</tr>
<tr>
<td>GeneratorExit</td>
<td>生成器(generator)发生异常来通知退出</td>
</tr>
<tr>
<td>SystemExit</td>
<td>Python 解释器请求退出</td>
</tr>
<tr>
<td>StandardError</td>
<td>所有的内建标准异常的基类</td>
</tr>
<tr>
<td>ArithmeticError</td>
<td>所有数值计算错误的基类</td>
</tr>
<tr>
<td>FloatingPointError</td>
<td>浮点计算错误</td>
</tr>
<tr>
<td>OverflowError</td>
<td>数值运算超出最大限制</td>
</tr>
<tr>
<td>ZeroDivisionError</td>
<td>除(或取模)零 (所有数据类型)</td>
</tr>
<tr>
<td>AssertionError</td>
<td>断言语句失败</td>
</tr>
<tr>
<td>AttributeError</td>
<td>对象没有这个属性</td>
</tr>
<tr>
<td>EOFError</td>
<td>没有内建输入,到达EOF 标记</td>
</tr>
<tr>
<td>EnvironmentError</td>
<td>操作系统错误的基类</td>
</tr>
<tr>
<td>IOError</td>
<td>输入/输出操作失败</td>
</tr>
<tr>
<td>OSError</td>
<td>操作系统错误</td>
</tr>
<tr>
<td>WindowsError</td>
<td>系统调用失败</td>
</tr>
<tr>
<td>ImportError</td>
<td>导入模块/对象失败</td>
</tr>
<tr>
<td>KeyboardInterrupt</td>
<td>用户中断执行(通常是输入^C)</td>
</tr>
<tr>
<td>LookupError</td>
<td>无效数据查询的基类</td>
</tr>
<tr>
<td>IndexError</td>
<td>序列中没有没有此索引(index)</td>
</tr>
<tr>
<td>KeyError</td>
<td>映射中没有这个键</td>
</tr>
<tr>
<td>MemoryError</td>
<td>内存溢出错误(对于Python 解释器不是致命的)</td>
</tr>
<tr>
<td>NameError</td>
<td>未声明/初始化对象 (没有属性)</td>
</tr>
<tr>
<td>UnboundLocalError</td>
<td>访问未初始化的本地变量</td>
</tr>
<tr>
<td>ReferenceError</td>
<td>弱引用(Weak reference)试图访问已经垃圾回收了的对象</td>
</tr>
<tr>
<td>RuntimeError</td>
<td>一般的运行时错误</td>
</tr>
<tr>
<td>NotImplementedError</td>
<td>尚未实现的方法</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>Python 语法错误</td>
</tr>
<tr>
<td>IndentationError</td>
<td>缩进错误</td>
</tr>
<tr>
<td>TabError</td>
<td>Tab 和空格混用</td>
</tr>
<tr>
<td>SystemError</td>
<td>一般的解释器系统错误</td>
</tr>
<tr>
<td>ValueError</td>
<td>传入无效的参数</td>
</tr>
<tr>
<td>UnicodeError</td>
<td>Unicode 相关的错误</td>
</tr>
<tr>
<td>UnicodeDecodeError</td>
<td>Unicode 解码时的错误</td>
</tr>
<tr>
<td>UnicodeEncodeError</td>
<td>Unicode 编码时错误</td>
</tr>
<tr>
<td>Warning</td>
<td>警告的基类</td>
</tr>
<tr>
<td>DeprecationWarning</td>
<td>关于被弃用的特征的警告</td>
</tr>
<tr>
<td>FutureWarning</td>
<td>关于构造将来语义会有改变的警告</td>
</tr>
<tr>
<td>OverflowWarning</td>
<td>旧的关于自动提升为长整型(long)的警告</td>
</tr>
<tr>
<td>PendingDeprecationWarning</td>
<td>关于特性将会被废弃的警告</td>
</tr>
<tr>
<td>RuntimeWarning</td>
<td>可疑的运行时行为(runtime behavior)的警告</td>
</tr>
<tr>
<td>SyntaxWarning</td>
<td>可疑的语法的警告</td>
</tr>
<tr>
<td>UserWarning</td>
<td>用户代码生成的警告</td>
</tr>
<tr>
<td>FileNotFoundError</td>
<td>文件未找到错误</td>
</tr>
</tbody></table>


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="header cap theme"><span>接下来阅读</span></section><section class="body fs14"><a id="next" href="/2022/03/03/023-python-ji-chu-08/">Day08之Python文件操作与面向对象<span class="note">较早</span></a><div class="line"></div><a id="prev" href="/2022/03/03/025-python-ji-chu-10-shang/">Day10（上）之Python模块、包与面向对象综合案例<span class="note">较新</span></a><div class="line"></div><a id="more" href="/archives">检索全部文章</a></section></div>






  <div class='related-wrap md reveal' id="comments">
    <div class='cmt-title cap theme'>
      快来参与讨论吧
    </div>
    <div class='cmt-body valine'>
      

<div id="valine_container" class="valine_thread"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>

    </div>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
<p>本站由 <a href="https://i80980.github.io/">@华佐</a> 创建，使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.5.2" title="v1.5.2">Stellar</a> 作为主题。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.5.2';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js',
    sitesjs: '/js/plugins/sites.js',
    friendsjs: '/js/plugins/friends.js',
  };

  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.3.1/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@6/swiper-bundle.min.css","js":"https://unpkg.com/swiper@6/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://cdn.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://cdn.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function getEmojiMaps() {
    function emoji(path, idx, ext) {
      return path + "/" + path + "-" + idx + "." + ext;
    }
    var emojiMaps = {};
    for (var i = 1; i <= 54; i++) {
      emojiMaps['tieba-' + i] = emoji('tieba', i, 'png');
    }
    for (var i = 1; i <= 101; i++) {
      emojiMaps['qq-' + i] = emoji('qq', i, 'gif');
    }
    for (var i = 1; i <= 116; i++) {
      emojiMaps['aru-' + i] = emoji('aru', i, 'gif');
    }
    for (var i = 1; i <= 125; i++) {
      emojiMaps['twemoji-' + i] = emoji('twemoji', i, 'png');
    }
    for (var i = 1; i <= 4; i++) {
      emojiMaps['weibo-' + i] = emoji('weibo', i, 'png');
    }
    return emojiMaps;
  }
  function load_comment(){
    if(!document.getElementById("valine_container"))return;
    stellar.loadScript('https://cdn.jsdelivr.net/gh/XuxuGood/simple-blog-cdn@main/js/Valine.min.js', {defer:true}).then(function () {
      const el = document.getElementById("valine_container");
      var path = el.getAttribute('comment_id');
      const placeholder = "";
      if (!path) {
        path = decodeURI(window.location.pathname);
      }
      var valine = new Valine();
      valine.init(Object.assign({"js":"https://cdn.jsdelivr.net/gh/XuxuGood/simple-blog-cdn@main/js/Valine.min.js","appId":"orWnaTOe0PfVgO0DPyyfJgcT-gzGzoHsz","appKey":"jFXOYkDsKjXXbdIfbbx2q7yc","placeholder":null,"requiredFields":["nick","mail"],"enableQQ":true,"recordIP":false,"avatar":"robohash","pageSize":10,"lang":"zh-cn","highlight":true,"mathJax":false,"tagMeta":["博主","小伙伴","访客"],"metaPlaceholder":{"nick":"昵称/QQ号(必填)","mail":"邮箱（必填，完全保密）","link":"网址(https://)"},"master":["6783037F2DF30EAB99F9FC256157D875"],"friends":["6783037F2DF30EAB99F9FC256157D875"]}, {
        el: '#valine_container',
        path: path,
        placeholder: placeholder,
        emojiCDN: 'https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/valine/',
        emojiMaps: getEmojiMaps(),
      }));
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    console.log('DOM fully loaded and parsed');
    load_comment();
  });

</script>




<!-- inject -->


  </div>
<!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && location.pathname =='/'){
    
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/post/mima.jpg" alt="/post/mima.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-08-12</span><a class="blog-slider__title" href="2021/08/12/004-hexo-wen-zhang-jia-mi/">Hexo文章加密教程</a><div class="blog-slider__text">Hexo文章加密教程</div><a class="blog-slider__button" href="2021/08/12/004-hexo-wen-zhang-jia-mi/">详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gitee.com/i80980/picture-1/raw/master/%E5%B0%8F%E7%B1%B3%E8%A7%A3%E9%94%81.jpg" alt="https://gitee.com/i80980/picture-1/raw/master/%E5%B0%8F%E7%B1%B3%E8%A7%A3%E9%94%81.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-08-14</span><a class="blog-slider__title" href="2021/08/14/005-xiu-bu-boot-fang-fa-huo-qu-root-shua-ru-magisk-jiao-cheng/">修补boot获取root刷入magisk教程</a><div class="blog-slider__text">修补boot获取root刷入magisk教程</div><a class="blog-slider__button" href="2021/08/14/005-xiu-bu-boot-fang-fa-huo-qu-root-shua-ru-magisk-jiao-cheng/">详情</a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载swiper')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script>
<script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.js"></script>
<script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper@0.18/swiper/swiperindex.js"></script>
<style></style><!-- hexo injector body_end end --></body>
</html>
